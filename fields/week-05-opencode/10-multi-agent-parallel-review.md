# OpenCode å¤š Agent å¹¶è¡Œ Review æ–¹æ¡ˆ

æœ¬æ–‡æ¡£è®°å½•å°† Revvï¼ˆå¤šæ¨¡å‹å¹¶è¡Œä»£ç å®¡æŸ¥å·¥å…·ï¼‰è¿ç§»åˆ° OpenCode å¤š Agent æ¶æ„çš„å®Œæ•´æ–¹æ¡ˆï¼Œä»¥åŠä¸åŸ Python å®ç°çš„å¯¹æ¯”åˆ†æã€‚

## ä¸€ã€èƒŒæ™¯

### Revv é¡¹ç›®ç®€ä»‹

**Revv** æ˜¯ä¸€ä¸ªå¤š AI æ¨¡å‹åä½œå®¡æŸ¥å·¥å…·ï¼Œæ ¸å¿ƒç†å¿µæ˜¯ã€Œ**åŒä¸€è§’è‰² Ã— å¤šä¸ªæ¨¡å‹ = äº¤å‰éªŒè¯ï¼Œå‘ç°æ›´å¤šç›²ç‚¹**ã€ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Revv å·¥ä½œæµç¨‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚   è¾“å…¥å†…å®¹   â”‚                          â”‚
â”‚                    â”‚ (ä»£ç /æ–‡æ¡£)  â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                           â”‚                                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚                 â”‚                 â”‚               â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”‚
â”‚    â”‚  Codex  â”‚      â”‚  Gemini   â”‚     â”‚ Claude    â”‚ (å¹¶è¡Œ)  â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚                 â”‚                 â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                           â”‚                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚  Summary AI  â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                           â”‚                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚ summary.md  â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¿ç§»ç›®æ ‡

å°† Revv çš„å¤šæ¨¡å‹å¹¶è¡Œå®¡æŸ¥åŠŸèƒ½è¿ç§»åˆ° OpenCode çš„å¤š Agent æ¶æ„ï¼Œåˆ©ç”¨ OpenCode çš„äº¤äº’ä½“éªŒåŒæ—¶ä¿æŒå¹¶è¡Œæ‰§è¡Œèƒ½åŠ›ã€‚

---

## äºŒã€OpenCode Agent ç³»ç»Ÿæ¦‚è¿°

### Agent ç±»å‹

OpenCode çš„ Agent ç³»ç»Ÿåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š

| ç±»å‹ | è¯´æ˜ | åˆ‡æ¢æ–¹å¼ |
|------|------|----------|
| **Primary Agent** | ä¸»ä»£ç†ï¼Œå¤„ç†ç”¨æˆ·ç›´æ¥äº¤äº’ | Tab é”®åˆ‡æ¢ |
| **Subagent** | å­ä»£ç†ï¼Œç”± Primary Agent è°ƒç”¨å¤„ç†ä¸“é¡¹ä»»åŠ¡ | @mention æˆ–è‡ªåŠ¨è°ƒç”¨ |

### å†…ç½® Agent

| Agent | ç±»å‹ | èŒè´£ |
|-------|------|------|
| **Build** | Primary | é»˜è®¤å¼€å‘ Agentï¼Œå…¨åŠŸèƒ½è®¿é—® |
| **Plan** | Primary | åˆ†æè§„åˆ’ï¼Œä¸ä¿®æ”¹ä»£ç  |
| **General** | Subagent | é€šç”¨ä»»åŠ¡ï¼Œå¤šæ­¥éª¤æ‰§è¡Œ |
| **Explore** | Subagent | å¿«é€Ÿä»£ç åº“æ¢ç´¢ |

### Subagent ä¸²è¡Œæ‰§è¡Œçš„åŸå› 

OpenCode åŸç”Ÿçš„ `task` å·¥å…·å¯åŠ¨ subagent æ˜¯**ä¸²è¡Œ**çš„ï¼š

```
LLM Tool Calling æµç¨‹:

1. å‘é€æ¶ˆæ¯ç»™ LLM
   â†“
2. LLM è¿”å›: "æˆ‘è¦è°ƒç”¨ task å·¥å…·"
   â†“
3. OpenCode æ‰§è¡Œ task å·¥å…· (å¯åŠ¨ subagent)
   â†“
4. ç­‰å¾… subagent å®Œæˆ        â† é˜»å¡ç­‰å¾…
   â†“
5. å°†ç»“æœè¿”å›ç»™ LLM
   â†“
6. LLM çœ‹åˆ°ç»“æœï¼Œå†³å®šä¸‹ä¸€æ­¥
   â†“
7. å¦‚æœéœ€è¦å†è°ƒç”¨ taskï¼Œé‡å¤ 2-6
```

**æ ¸å¿ƒé™åˆ¶**ï¼š
- LLM çš„å¯¹è¯æ˜¯åŒæ­¥çš„ã€çº¿æ€§çš„
- æ¯æ¬¡ LLM è°ƒç”¨å¿…é¡»ç­‰å¾…å·¥å…·æ‰§è¡Œå®Œæˆæ‰èƒ½ç»§ç»­
- è¿™æ˜¯ LLM API çš„æ ¹æœ¬é™åˆ¶ï¼Œä¸æ˜¯ OpenCode ç‰¹æœ‰çš„

---

## ä¸‰ã€å¹¶è¡Œæ–¹æ¡ˆè®¾è®¡

### æ ¸å¿ƒæ€è·¯

ç»•è¿‡ OpenCode åŸç”Ÿ `task` å·¥å…·çš„ä¸²è¡Œé™åˆ¶ï¼Œä½¿ç”¨ **Custom Tool + OpenCode Server API** å®ç°çœŸæ­£çš„å¹¶è¡Œã€‚

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Revv on OpenCode Architecture                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  å…¥å£å±‚ (ä¸‰ç§æ–¹å¼)                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /revv å‘½ä»¤   â”‚  â”‚ @revv è°ƒç”¨   â”‚  â”‚ revv-orchestrator Agent â”‚   â”‚
â”‚  â”‚ (Command)    â”‚  â”‚ (Subagent)   â”‚  â”‚ (Primary Agent)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                 â”‚                      â”‚                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                           â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    Revv Core Tool                            â”‚    â”‚
â”‚  â”‚  parallel-review.ts                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚
â”‚  â”‚  â”‚ 1. åŠ è½½ Skill (prompt-selector æˆ–æŒ‡å®š skill)            â”‚â”‚    â”‚
â”‚  â”‚  â”‚ 2. å¹¶è¡Œåˆ›å»º N ä¸ª Session (æ¯ä¸ªä½¿ç”¨ä¸åŒæ¨¡å‹)              â”‚â”‚    â”‚
â”‚  â”‚  â”‚ 3. å¼‚æ­¥å‘é€ prompt (POST /prompt_async)                  â”‚â”‚    â”‚
â”‚  â”‚  â”‚ 4. ç›‘å¬ SSE äº‹ä»¶æµï¼Œç­‰å¾…æ‰€æœ‰å®Œæˆ                         â”‚â”‚    â”‚
â”‚  â”‚  â”‚ 5. æ”¶é›†ç»“æœï¼Œå†™å…¥ review æ–‡ä»¶                            â”‚â”‚    â”‚
â”‚  â”‚  â”‚ 6. è°ƒç”¨ Summary Session ç”Ÿæˆæ±‡æ€»                         â”‚â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â”‚                                          â”‚
â”‚                           â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      Review Sessions                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚ Claude  â”‚ â”‚  GPT    â”‚ â”‚DeepSeek â”‚ â”‚ Gemini  â”‚  (å¹¶è¡Œ)    â”‚    â”‚
â”‚  â”‚  â”‚ Session â”‚ â”‚ Session â”‚ â”‚ Session â”‚ â”‚ Session â”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â”‚       â”‚           â”‚           â”‚           â”‚                  â”‚    â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚    â”‚
â”‚  â”‚                       â”‚                                      â”‚    â”‚
â”‚  â”‚                       â–¼                                      â”‚    â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚    â”‚
â”‚  â”‚              â”‚ Summary Session â”‚                             â”‚    â”‚
â”‚  â”‚              â”‚ (æ±‡æ€» + è¯„åˆ†)    â”‚                             â”‚    â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”® API

| API | ä½œç”¨ |
|-----|------|
| `POST /session` | åˆ›å»ºæ–° Session |
| `POST /session/:id/prompt_async` | **å¼‚æ­¥**å‘é€ promptï¼Œä¸ç­‰å¾…å®Œæˆ |
| `GET /session/status` | æ£€æŸ¥ Session çŠ¶æ€ |
| `GET /session/:id/message` | è·å–æ¶ˆæ¯å†…å®¹ |
| `GET /event` | SSE äº‹ä»¶æµ |

---

## å››ã€æ–‡ä»¶ç»“æ„

```
.opencode/
â”œâ”€â”€ agent/
â”‚   â”œâ”€â”€ revv-orchestrator.md      # Primary Agent: ç¼–æ’å™¨
â”‚   â”œâ”€â”€ revv-reviewer.md          # Subagent: å•æ¨¡å‹ Reviewer
â”‚   â””â”€â”€ revv-summary.md           # Subagent: æ±‡æ€»å™¨
â”‚
â”œâ”€â”€ command/
â”‚   â””â”€â”€ revv.md                   # /revv å‘½ä»¤å®šä¹‰
â”‚
â”œâ”€â”€ skill/
â”‚   â”œâ”€â”€ prompt-selector/
â”‚   â”‚   â””â”€â”€ SKILL.md              # Prompt è‡ªåŠ¨é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ backend-code/
â”‚   â”‚   â””â”€â”€ SKILL.md              # åç«¯ä»£ç å®¡æŸ¥
â”‚   â”œâ”€â”€ frontend-code/
â”‚   â”‚   â””â”€â”€ SKILL.md              # å‰ç«¯ä»£ç å®¡æŸ¥
â”‚   â”œâ”€â”€ prd/
â”‚   â”‚   â””â”€â”€ SKILL.md              # PRD æ–‡æ¡£å®¡æŸ¥
â”‚   â”œâ”€â”€ web-system-design/
â”‚   â”‚   â””â”€â”€ SKILL.md              # æ¶æ„è®¾è®¡å®¡æŸ¥
â”‚   â”œâ”€â”€ generic/
â”‚   â”‚   â””â”€â”€ SKILL.md              # é€šç”¨å®¡æŸ¥
â”‚   â””â”€â”€ revv-summary/
â”‚       â””â”€â”€ SKILL.md              # æ±‡æ€» prompt
â”‚
â”œâ”€â”€ tool/
â”‚   â”œâ”€â”€ parallel-review.ts        # æ ¸å¿ƒï¼šå¹¶è¡Œ review å·¥å…·
â”‚   â”œâ”€â”€ collect-reviews.ts        # æ”¶é›† review ç»“æœ
â”‚   â””â”€â”€ save-review-meta.ts       # ä¿å­˜å…ƒä¿¡æ¯
â”‚
â””â”€â”€ config/
    â””â”€â”€ revv-models.json          # é»˜è®¤æ¨¡å‹é…ç½®

opencode.json                      # OpenCode é…ç½®
```

---

## äº”ã€æ ¸å¿ƒç»„ä»¶å®ç°

### 1. æ¨¡å‹é…ç½® (opencode.json)

```json
{
  "$schema": "https://opencode.ai/config.json",
  
  "revv": {
    "defaultModels": [
      "anthropic/claude-sonnet-4-20250514",
      "openai/gpt-4o",
      "deepseek/deepseek-chat",
      "google/gemini-2.0-flash-exp"
    ],
    "summaryModel": "anthropic/claude-sonnet-4-20250514",
    "timeout": 300,
    "outputDir": ".revv/reviews"
  }
}
```

### 2. Primary Agent: revv-orchestrator.md

```markdown
---
description: Multi-model parallel code review orchestrator. Use when user wants comprehensive code review across multiple AI models.
mode: primary
model: anthropic/claude-sonnet-4-20250514
temperature: 0.2
tools:
  read: true
  glob: true
  list: true
  skill: true
  parallel-review: true
  collect-reviews: true
  save-review-meta: true
  write: true
permission:
  write: allow
  bash: deny
---

You are the Revv Orchestrator - a multi-model parallel code review coordinator.

## Your Role
Coordinate comprehensive code reviews by dispatching the same review task to multiple AI models in parallel, then synthesizing their findings.

## Workflow

### Step 1: Understand the Review Request
- Identify what content to review (file, directory, or specific code)
- Determine if user specified a review skill, or needs auto-selection

### Step 2: Select Review Skill
If user didn't specify a skill:
- Load skill `prompt-selector` 
- Analyze the content type and select the most appropriate skill

Available skills:
- `backend-code`: Python, Java, Go, Node.js backend code
- `frontend-code`: React, Vue, TypeScript frontend code  
- `prd`: Product requirement documents
- `web-system-design`: Architecture and system design docs
- `generic`: General purpose review

### Step 3: Execute Parallel Review
Call the `parallel-review` tool with:
- Content path
- Selected skill name
- Model list (use defaults or user-specified)

### Step 4: Generate Summary
After parallel reviews complete:
- Call `collect-reviews` to gather all review outputs
- The summary is automatically generated by parallel-review tool

### Step 5: Report Results
- Show user the summary location
- Highlight critical findings (P0/P1 issues)
- Report any model failures

## Output Locations
All outputs are saved to `.revv/reviews/{session-id}/`:
- `review_{model-name}.md` - Individual model reviews
- `summary.md` - Consolidated summary with scores
- `meta.json` - Review metadata
```

### 3. Subagent: revv-reviewer.md

```markdown
---
description: Single-model code reviewer. Performs thorough code review following specified guidelines.
mode: subagent
temperature: 0.1
maxSteps: 50
tools:
  read: true
  grep: true
  glob: true
  list: true
  skill: true
  write: false
  edit: false
  bash: false
---

You are an expert code reviewer. Your task is to thoroughly review the provided content following the specified review guidelines.

## Instructions
1. First, load the specified review skill to understand the review criteria
2. Carefully analyze all provided content
3. Identify issues at all severity levels (P0/P1/P2)
4. Provide specific, actionable feedback with file locations

## Output Format

Your review must follow this exact format:

# Code Review Report

## å®¡æŸ¥æ¦‚è§ˆ
- **å®¡æŸ¥èŒƒå›´**: [files/directories reviewed]
- **ä¸»è¦å‘ç°**: [1-2 sentence summary]

## é—®é¢˜åˆ—è¡¨

### P0 è‡´å‘½é—®é¢˜
| é—®é¢˜ | ä½ç½® | å½±å“ | ä¿®å¤å»ºè®® |
|------|------|------|----------|

### P1 ä¸¥é‡é—®é¢˜  
| é—®é¢˜ | ä½ç½® | å½±å“ | ä¿®å¤å»ºè®® |
|------|------|------|----------|

### P2 ä¸€èˆ¬é—®é¢˜
| é—®é¢˜ | ä½ç½® | å½±å“ | ä¿®å¤å»ºè®® |
|------|------|------|----------|

## äº®ç‚¹
- [positive observations]

## å†…å®¹è¯„åˆ†
| è¯„åˆ†é¡¹ | åˆ†æ•° | è¯´æ˜ |
|--------|------|------|
| æ€»åˆ† | [0-10] | [brief justification] |

## Scoring Guidelines
- 9-10: Excellent, minimal issues
- 7-8: Good, minor improvements needed
- 5-6: Acceptable, notable issues exist
- 3-4: Poor, significant problems
- 0-2: Critical, needs major rework
```

### 4. Subagent: revv-summary.md

```markdown
---
description: Synthesizes multiple code reviews into unified summary with reviewer scores
mode: subagent  
model: anthropic/claude-sonnet-4-20250514
temperature: 0.2
maxSteps: 30
tools:
  read: true
  glob: true
  write: true
  skill: true
permission:
  write: allow
---

You are the Chief Architect responsible for synthesizing multiple code reviews into a unified report.

## Your Task
1. Read all review files from the specified directory
2. Identify consensus issues (mentioned by 2+ reviewers)
3. Identify conflicting opinions and make reasoned judgments
4. Score each reviewer's contribution quality
5. Generate a comprehensive summary report

## Output Format

# Review æ±‡æ€»æŠ¥å‘Š

## å…ƒä¿¡æ¯
- **æ—¶é—´**: {timestamp}
- **å®¡æŸ¥å†…å®¹**: {content_path}
- **å‚ä¸æ¨¡å‹**: {model_list}
- **ä½¿ç”¨ Skill**: {skill_name}

## å…±è¯†é—®é¢˜
> å¤šä¸ªæ¨¡å‹éƒ½æŒ‡å‡ºçš„é—®é¢˜ï¼Œå¯ä¿¡åº¦é«˜

### [P0] è‡´å‘½é—®é¢˜
| é—®é¢˜ | æåŠæ¨¡å‹ | ä½ç½® | ä¿®å¤å»ºè®® |
|------|----------|------|----------|

### [P1] ä¸¥é‡é—®é¢˜
| é—®é¢˜ | æåŠæ¨¡å‹ | ä½ç½® | ä¿®å¤å»ºè®® |

### [P2] ä¸€èˆ¬é—®é¢˜
| é—®é¢˜ | æåŠæ¨¡å‹ | ä½ç½® | ä¿®å¤å»ºè®® |

## åˆ†æ­§ä¸è£å†³
> æ¨¡å‹ä¹‹é—´æœ‰ä¸åŒçœ‹æ³•çš„é—®é¢˜

| é—®é¢˜ | ä¸åŒè§‚ç‚¹ | è£å†³ | ç†ç”± |
|------|----------|------|------|

## å„æ¨¡å‹ç‹¬ç‰¹å‘ç°
> å•ä¸ªæ¨¡å‹çš„ç‹¬ç‰¹è§è§£

- **{model}**: {unique insight}

## Reviewer è¯„åˆ†

| Reviewer | å¾—åˆ† | è¯„ä»· |
|----------|------|------|
| {model} | {0-10} | {è¯„ä»·ï¼Œ20å­—ä»¥å†…} |

### è¯„åˆ†ç»´åº¦
- é—®é¢˜å‘ç°èƒ½åŠ›ï¼šæ˜¯å¦å‘ç°å…³é”®é—®é¢˜ã€ç‹¬ç‰¹è§†è§’
- å»ºè®®å¯æ‰§è¡Œæ€§ï¼šå»ºè®®æ˜¯å¦å…·ä½“ã€åŒ…å«å®šä½ä¿¡æ¯
- åˆ†ææ·±åº¦ï¼šæ˜¯å¦æœ‰æ·±å…¥åˆ†æè€Œéæ³›æ³›è€Œè°ˆ

## æ•´ä½“è¯„ä¼°
[Overall assessment and recommendations]
```

### 5. Custom Command: revv.md

```markdown
---
description: Run multi-model parallel code review
agent: revv-orchestrator
---

Review the content at `$1` using multi-model parallel review.

## Parameters
- Content path: $1
- Review skill: $2 (optional, auto-select if not specified)
- Models: $3 (optional, comma-separated, use defaults if not specified)

## Examples
- `/revv ./src` - Auto-select skill, use default models
- `/revv ./src backend-code` - Use backend-code skill
- `/revv ./src prd anthropic/claude-opus-4,openai/gpt-4o` - Custom models

Please execute the review workflow:
1. Analyze content type if skill not specified
2. Launch parallel reviews across configured models
3. Generate summary with reviewer scores
4. Report the results location and critical findings
```

### 6. æ ¸å¿ƒå·¥å…·: parallel-review.ts

```typescript
// .opencode/tool/parallel-review.ts
import { tool } from "@opencode-ai/plugin"

interface ReviewResult {
  model: string
  sessionId: string
  status: "success" | "failed" | "timeout"
  outputPath?: string
  error?: string
  duration?: number
}

export default tool({
  description: "Execute parallel code reviews across multiple AI models. Creates separate sessions for each model and waits for all to complete.",
  args: {
    contentPath: tool.schema.string().describe("Path to content to review"),
    skillName: tool.schema.string().describe("Review skill to use (e.g., backend-code, prd)"),
    models: tool.schema.array(tool.schema.string()).optional().describe("Model IDs to use. Defaults to configured models."),
    outputDir: tool.schema.string().optional().describe("Output directory. Defaults to .revv/reviews/{timestamp}"),
    timeout: tool.schema.number().optional().describe("Timeout in seconds per model. Default 300."),
  },
  
  async execute(args, context) {
    const baseUrl = "http://localhost:4096"  // OpenCode server
    const timestamp = new Date().toISOString().replace(/[:.]/g, "-").slice(0, 19)
    const outputDir = args.outputDir || `.revv/reviews/${timestamp}`
    
    // 1. è·å–é…ç½®çš„é»˜è®¤æ¨¡å‹
    const configResponse = await fetch(`${baseUrl}/config`)
    const config = await configResponse.json()
    const defaultModels = config.revv?.defaultModels || [
      "anthropic/claude-sonnet-4-20250514",
      "openai/gpt-4o", 
      "deepseek/deepseek-chat",
      "google/gemini-2.0-flash-exp"
    ]
    const models = args.models || defaultModels
    const timeout = (args.timeout || 300) * 1000
    
    // 2. è¯»å– skill å†…å®¹
    const skillResponse = await fetch(`${baseUrl}/file/content?path=.opencode/skill/${args.skillName}/SKILL.md`)
    const skillContent = await skillResponse.json()
    
    // 3. è¯»å–å¾… review çš„å†…å®¹
    const contentResponse = await fetch(`${baseUrl}/file/content?path=${args.contentPath}`)
    const content = await contentResponse.json()
    
    // 4. æ„å»º review prompt
    const reviewPrompt = `
You are reviewing the following content. Use the provided review guidelines.

## Review Guidelines (Skill: ${args.skillName})
${skillContent.content}

## Content to Review
Path: ${args.contentPath}

${content.content}

Please provide a thorough review following the output format specified in the guidelines.
`
    
    // 5. å¹¶è¡Œåˆ›å»º sessions å¹¶å‘é€ prompts
    const reviewPromises = models.map(async (modelId: string): Promise<ReviewResult> => {
      const startTime = Date.now()
      const [providerId, modelName] = modelId.split("/")
      const shortName = modelName.split("-")[0]
      
      try {
        // åˆ›å»º session
        const createRes = await fetch(`${baseUrl}/session`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ 
            title: `Revv Review - ${shortName}`,
            parentID: context.sessionID
          })
        })
        const session = await createRes.json()
        
        // å¼‚æ­¥å‘é€ prompt (ä¸ç­‰å¾…å®Œæˆ)
        await fetch(`${baseUrl}/session/${session.id}/prompt_async`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            agent: "revv-reviewer",
            model: { providerID: providerId, modelID: modelName },
            parts: [{ type: "text", text: reviewPrompt }]
          })
        })
        
        // ç­‰å¾… session å®Œæˆ (è½®è¯¢ status)
        const deadline = Date.now() + timeout
        while (Date.now() < deadline) {
          const statusRes = await fetch(`${baseUrl}/session/status`)
          const statuses = await statusRes.json()
          const sessionStatus = statuses[session.id]
          
          if (sessionStatus?.status === "idle") {
            // å®Œæˆï¼Œè·å–æ¶ˆæ¯
            const messagesRes = await fetch(`${baseUrl}/session/${session.id}/message`)
            const messages = await messagesRes.json()
            
            const lastAssistant = messages.reverse().find((m: any) => m.info.role === "assistant")
            if (lastAssistant) {
              const textPart = lastAssistant.parts.find((p: any) => p.type === "text")
              if (textPart) {
                const outputPath = `${outputDir}/review_${shortName}.md`
                await fetch(`${baseUrl}/file/write`, {
                  method: "POST",
                  headers: { "Content-Type": "application/json" },
                  body: JSON.stringify({ path: outputPath, content: textPart.text })
                })
                
                return {
                  model: modelId,
                  sessionId: session.id,
                  status: "success",
                  outputPath,
                  duration: Date.now() - startTime
                }
              }
            }
          }
          
          await new Promise(resolve => setTimeout(resolve, 2000))
        }
        
        return {
          model: modelId,
          sessionId: session.id,
          status: "timeout",
          error: `Timeout after ${timeout/1000}s`,
          duration: Date.now() - startTime
        }
        
      } catch (error) {
        return {
          model: modelId,
          sessionId: "",
          status: "failed",
          error: String(error),
          duration: Date.now() - startTime
        }
      }
    })
    
    // 6. ç­‰å¾…æ‰€æœ‰ reviews å®Œæˆ
    const results = await Promise.all(reviewPromises)
    
    // 7. æ”¶é›†æˆåŠŸçš„ reviews
    const successfulReviews = results.filter(r => r.status === "success")
    
    // 8. ç”Ÿæˆ Summary
    let summaryPath = ""
    if (successfulReviews.length > 0) {
      const summaryRes = await fetch(`${baseUrl}/session`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ 
          title: "Revv Summary",
          parentID: context.sessionID
        })
      })
      const summarySession = await summaryRes.json()
      
      const reviewContents = await Promise.all(
        successfulReviews.map(async (r) => {
          const res = await fetch(`${baseUrl}/file/content?path=${r.outputPath}`)
          const data = await res.json()
          return `## Review from ${r.model}\n\n${data.content}`
        })
      )
      
      const summaryPrompt = `
Please synthesize the following code reviews into a unified summary report.

## Original Content
Path: ${args.contentPath}

## Reviews to Synthesize
${reviewContents.join("\n\n---\n\n")}

Generate a comprehensive summary following the revv-summary format.
`
      
      const summaryMsgRes = await fetch(`${baseUrl}/session/${summarySession.id}/message`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          agent: "revv-summary",
          parts: [{ type: "text", text: summaryPrompt }]
        })
      })
      const summaryMsg = await summaryMsgRes.json()
      
      const textPart = summaryMsg.parts.find((p: any) => p.type === "text")
      if (textPart) {
        summaryPath = `${outputDir}/summary.md`
        await fetch(`${baseUrl}/file/write`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ path: summaryPath, content: textPart.text })
        })
      }
    }
    
    // 9. ä¿å­˜ meta.json
    const meta = {
      timestamp,
      contentPath: args.contentPath,
      skill: args.skillName,
      models: models,
      results: results.map(r => ({
        model: r.model,
        status: r.status,
        duration: r.duration,
        error: r.error
      })),
      summaryPath
    }
    
    await fetch(`${baseUrl}/file/write`, {
      method: "POST", 
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ 
        path: `${outputDir}/meta.json`, 
        content: JSON.stringify(meta, null, 2) 
      })
    })
    
    // 10. è¿”å›ç»“æœ
    return JSON.stringify({
      outputDir,
      summaryPath,
      results: results.map(r => ({
        model: r.model,
        status: r.status,
        outputPath: r.outputPath,
        duration: r.duration ? `${(r.duration/1000).toFixed(1)}s` : undefined,
        error: r.error
      })),
      stats: {
        total: models.length,
        success: successfulReviews.length,
        failed: results.filter(r => r.status === "failed").length,
        timeout: results.filter(r => r.status === "timeout").length
      }
    }, null, 2)
  }
})
```

### 7. Skill: backend-code/SKILL.md

```markdown
---
name: backend-code
description: Backend code review guidelines for Python, Java, Go, Node.js server-side applications
---

## è¯„å®¡ç»´åº¦

### 1. ä»£ç è´¨é‡ (æƒé‡: 30%)
- å‘½åæ¸…æ™°æ€§å’Œä¸€è‡´æ€§
- å‡½æ•°/æ–¹æ³•èŒè´£å•ä¸€
- ä»£ç ç»“æ„åˆç†æ€§ï¼ˆåˆ†å±‚ã€æ¨¡å—åŒ–ï¼‰
- æ³¨é‡Šå’Œæ–‡æ¡£å®Œæ•´æ€§

### 2. API è®¾è®¡ (æƒé‡: 20%)
- RESTful è§„èŒƒç¬¦åˆåº¦
- æ¥å£å‘½åå’Œè·¯å¾„è®¾è®¡ä¸€è‡´æ€§
- è¯·æ±‚/å“åº”æ ¼å¼è§„èŒƒæ€§
- ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

### 3. æ•°æ®å±‚ (æƒé‡: 20%)
- SQL æ€§èƒ½é—®é¢˜ï¼ˆN+1 æŸ¥è¯¢ã€å…¨è¡¨æ‰«æã€ç¼ºå°‘ç´¢å¼•ï¼‰
- äº‹åŠ¡è¾¹ç•Œæ­£ç¡®æ€§
- æ•°æ®åº“è¿æ¥ç®¡ç†
- ORM ä½¿ç”¨è§„èŒƒ

### 4. å®‰å…¨é—®é¢˜ (æƒé‡: 20%)
- SQL æ³¨å…¥é£é™©
- å‘½ä»¤æ³¨å…¥é£é™©
- è®¤è¯æˆæƒæ¼æ´
- æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼ˆæ—¥å¿—ã€é”™è¯¯ä¿¡æ¯ï¼‰
- è¾“å…¥éªŒè¯ç¼ºå¤±

### 5. å¹¶å‘ä¸æ€§èƒ½ (æƒé‡: 10%)
- å¹¶å‘å®‰å…¨é—®é¢˜ï¼ˆç«æ€æ¡ä»¶ã€æ­»é”ï¼‰
- èµ„æºæ³„æ¼ï¼ˆè¿æ¥ã€æ–‡ä»¶å¥æŸ„ï¼‰
- è¶…æ—¶è®¾ç½®åˆç†æ€§
- ç¼“å­˜ä½¿ç”¨ç­–ç•¥

## é—®é¢˜ä¸¥é‡æ€§å®šä¹‰

| çº§åˆ« | å®šä¹‰ | ç¤ºä¾‹ |
|------|------|------|
| **P0 è‡´å‘½** | å®‰å…¨æ¼æ´ã€æ•°æ®æŸåé£é™©ã€çº¿ä¸Šå¿…å´© | SQL æ³¨å…¥ã€æœªæ•è·å¼‚å¸¸å¯¼è‡´è¿›ç¨‹é€€å‡º |
| **P1 ä¸¥é‡** | æ€§èƒ½é—®é¢˜ã€å¹¶å‘é—®é¢˜ã€èµ„æºæ³„æ¼ | æ•°æ®åº“è¿æ¥æ³„æ¼ã€N+1 æŸ¥è¯¢ |
| **P2 ä¸€èˆ¬** | ä»£ç é£æ ¼ã€è®¾è®¡å¯ä¼˜åŒ–ã€å»ºè®®æ”¹è¿› | å‘½åä¸è§„èŒƒã€ç¼ºå°‘æ³¨é‡Š |

## è¾“å‡ºæ ¼å¼

# Code Review Report

## å®¡æŸ¥æ¦‚è§ˆ
- **å®¡æŸ¥èŒƒå›´**: [åˆ—å‡ºå®¡æŸ¥çš„æ–‡ä»¶/ç›®å½•]
- **æŠ€æœ¯æ ˆ**: [è¯†åˆ«çš„æŠ€æœ¯æ ˆ]
- **ä¸»è¦å‘ç°**: [1-2 å¥è¯æ¦‚è¿°]

## é—®é¢˜åˆ—è¡¨

### P0 è‡´å‘½é—®é¢˜
| é—®é¢˜ | ä½ç½® | å½±å“ | ä¿®å¤å»ºè®® |
|------|------|------|----------|

### P1 ä¸¥é‡é—®é¢˜
| é—®é¢˜ | ä½ç½® | å½±å“ | ä¿®å¤å»ºè®® |
|------|------|------|----------|

### P2 ä¸€èˆ¬é—®é¢˜
| é—®é¢˜ | ä½ç½® | å½±å“ | ä¿®å¤å»ºè®® |
|------|------|------|----------|

## äº®ç‚¹
- [å€¼å¾—è‚¯å®šçš„è®¾è®¡æˆ–å®ç°]

## å†…å®¹è¯„åˆ†
| è¯„åˆ†é¡¹ | åˆ†æ•° | è¯´æ˜ |
|--------|------|------|
| æ€»åˆ† | [0-10] | [è¯„åˆ†ç†ç”±ï¼Œ20å­—ä»¥å†…] |
```

---

## å…­ã€ä½¿ç”¨æ–¹å¼

### æ–¹å¼ 1: Custom Command

```bash
# åŸºæœ¬ä½¿ç”¨ (è‡ªåŠ¨é€‰æ‹© skill)
/revv ./src

# æŒ‡å®š skill
/revv ./src backend-code

# æŒ‡å®š skill å’Œ models
/revv ./src prd anthropic/claude-opus-4,openai/gpt-4o
```

### æ–¹å¼ 2: @ mention Subagent

```
@revv-orchestrator è¯· review src/api ç›®å½•çš„åç«¯ä»£ç 
```

### æ–¹å¼ 3: åˆ‡æ¢åˆ° Revv Primary Agent

æŒ‰ `Tab` åˆ‡æ¢åˆ° `revv-orchestrator` agentï¼Œç„¶åç›´æ¥å¯¹è¯ï¼š

```
Review the src/api directory for security issues
```

---

## ä¸ƒã€è¾“å‡ºç»“æ„

```
.revv/reviews/2024-12-25T14-30-00/
â”œâ”€â”€ review_claude.md          # Claude çš„ review
â”œâ”€â”€ review_gpt.md             # GPT çš„ review
â”œâ”€â”€ review_deepseek.md        # DeepSeek çš„ review
â”œâ”€â”€ review_gemini.md          # Gemini çš„ review
â”œâ”€â”€ summary.md                # æ±‡æ€»æŠ¥å‘Š (åŒ…å« Reviewer è¯„åˆ†)
â””â”€â”€ meta.json                 # å…ƒä¿¡æ¯
```

### meta.json ç¤ºä¾‹

```json
{
  "timestamp": "2024-12-25T14-30-00",
  "contentPath": "./src/api",
  "skill": "backend-code",
  "models": [
    "anthropic/claude-sonnet-4-20250514",
    "openai/gpt-4o",
    "deepseek/deepseek-chat",
    "google/gemini-2.0-flash-exp"
  ],
  "results": [
    { "model": "anthropic/claude-sonnet-4-20250514", "status": "success", "duration": "45.2s" },
    { "model": "openai/gpt-4o", "status": "success", "duration": "38.1s" },
    { "model": "deepseek/deepseek-chat", "status": "success", "duration": "22.3s" },
    { "model": "google/gemini-2.0-flash-exp", "status": "timeout", "error": "Timeout after 300s" }
  ],
  "summaryPath": ".revv/reviews/2024-12-25T14-30-00/summary.md"
}
```

---

## å…«ã€å¹¶è¡Œæ•ˆç‡å¯¹æ¯”

```
ä¸²è¡Œæ–¹å¼ï¼ˆä½¿ç”¨åŸç”Ÿ task å·¥å…·ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claude  â”‚â”€â”€â”€â”€â–¶â”‚  GPT    â”‚â”€â”€â”€â”€â–¶â”‚DeepSeek â”‚â”€â”€â”€â”€â–¶â”‚ Gemini  â”‚
â”‚  60s    â”‚     â”‚  45s    â”‚     â”‚  30s    â”‚     â”‚  40s    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    æ€»è€—æ—¶: 60 + 45 + 30 + 40 = 175s

å¹¶è¡Œæ–¹å¼ï¼ˆä½¿ç”¨ Custom Tool + Server APIï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claude  â”‚ â”€â”
â”‚  60s    â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  GPT    â”‚  â”œâ”€â”€â–¶ åŒæ—¶è¿›è¡Œï¼Œç­‰å¾…æœ€æ…¢çš„å®Œæˆ
â”‚  45s    â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚DeepSeek â”‚  â”‚
â”‚  30s    â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ Gemini  â”‚ â”€â”˜
â”‚  40s    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    æ€»è€—æ—¶: max(60, 45, 30, 40) = 60s

æ•ˆç‡æå‡ï¼š175s â†’ 60sï¼ŒèŠ‚çœ 65% æ—¶é—´ï¼
```

---

## ä¹ã€å®ç°é˜¶æ®µè®¡åˆ’

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ (MVP)

1. **parallel-review.ts** - æ ¸å¿ƒå¹¶è¡Œå·¥å…·
2. **revv-reviewer.md** - Reviewer subagent
3. **revv-summary.md** - Summary subagent
4. **revv.md** - Custom command
5. **backend-code/SKILL.md** - é¦–ä¸ª skill

**äº¤ä»˜ç‰©**: å¯ä»¥è¿è¡Œ `/revv ./src backend-code` å®Œæˆå¤šæ¨¡å‹å¹¶è¡Œ review

### Phase 2: å®Œå–„ Skills

1. `frontend-code/SKILL.md`
2. `prd/SKILL.md`
3. `web-system-design/SKILL.md`
4. `generic/SKILL.md`
5. `prompt-selector/SKILL.md` - è‡ªåŠ¨é€‰æ‹©

**äº¤ä»˜ç‰©**: æ”¯æŒè‡ªåŠ¨ skill é€‰æ‹©ï¼Œè¦†ç›–ä¸»è¦åœºæ™¯

### Phase 3: è¯„åˆ†ä¸å†å² (åç»­è¿­ä»£)

1. Reviewer è¯„åˆ†è§£æå’ŒæŒä¹…åŒ–
2. `/revv-history` å‘½ä»¤
3. `/revv-scores` å‘½ä»¤
4. è¯„åˆ†è¶‹åŠ¿ç»Ÿè®¡

### Phase 4: Commit Review (åç»­è¿­ä»£)

1. `commit-review/SKILL.md`
2. Git commit è§£ææ”¯æŒ
3. `--commits` å‚æ•°æ”¯æŒ

---

## åã€æ–¹æ¡ˆå¯¹æ¯”åˆ†æ

### æ¶æ„å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Revv Python å®ç°                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Python CLI (revv)                                                       â”‚
â”‚       â”‚                                                                  â”‚
â”‚       â”œâ”€â”€â”€ asyncio.gather() â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚       â”‚                        â”‚       â”‚       â”‚       â”‚                â”‚
â”‚       â–¼                        â–¼       â–¼       â–¼       â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚Selector â”‚              â”‚ codex â”‚â”‚gemini â”‚â”‚opencodeâ”‚â”‚opencodeâ”‚        â”‚
â”‚  â”‚ Agent   â”‚              â”‚  CLI  â”‚â”‚  CLI  â”‚â”‚ (ds)  â”‚â”‚ (glm) â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚       â”‚                        â”‚       â”‚       â”‚       â”‚                â”‚
â”‚       â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚       â”‚                                â”‚                                 â”‚
â”‚       â–¼                                â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ Prompt  â”‚                    â”‚  Summary    â”‚                         â”‚
â”‚  â”‚Templatesâ”‚                    â”‚   Agent     â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                          â”‚
â”‚  ç‰¹ç‚¹: ç›´æ¥æ§åˆ¶å­è¿›ç¨‹ï¼Œè‡ªä¸»ç®¡ç†ä¸€åˆ‡                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Revv on OpenCode å®ç°                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  OpenCode TUI/CLI                                                        â”‚
â”‚       â”‚                                                                  â”‚
â”‚       â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    OpenCode Server                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚    â”‚
â”‚  â”‚  â”‚ revv-       â”‚                                                 â”‚    â”‚
â”‚  â”‚  â”‚ orchestratorâ”‚â”€â”€â”€â”€ parallel-review.ts (Custom Tool)           â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                                     â”‚    â”‚
â”‚  â”‚                            â”‚ HTTP API calls                      â”‚    â”‚
â”‚  â”‚                            â–¼                                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚              Session Manager                             â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”‚Session 1â”‚ â”‚Session 2â”‚ â”‚Session 3â”‚ â”‚Session 4â”‚        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ claude  â”‚ â”‚  gpt    â”‚ â”‚deepseek â”‚ â”‚ gemini  â”‚        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  ç‰¹ç‚¹: ä¾èµ– OpenCode åŸºç¡€è®¾æ–½ï¼Œé€šè¿‡ API é—´æ¥æ§åˆ¶                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»´åº¦å¯¹æ¯”

| ç»´åº¦ | Revv Python | Revv on OpenCode | èƒœå‡º |
|------|-------------|------------------|------|
| **æ¶æ„å¤æ‚åº¦** | ç®€å•ç›´æ¥ï¼Œè‡ªä¸»æ§åˆ¶ä¸€åˆ‡ | é—´æ¥æ§åˆ¶ï¼Œä¾èµ– OpenCode æ¶æ„ | ğŸ† Python |
| **å¹¶è¡Œå®ç°** | åŸç”Ÿ asyncioï¼Œæˆç†Ÿç¨³å®š | Promise.all + HTTP APIï¼Œæœ‰é¢å¤–å¼€é”€ | ğŸ† Python |
| **è¿›ç¨‹ç®¡ç†** | ç›´æ¥ç®¡ç†å­è¿›ç¨‹ï¼Œç²¾ç»†æ§åˆ¶ | å§”æ‰˜ç»™ OpenCodeï¼Œæ§åˆ¶åŠ›æœ‰é™ | ğŸ† Python |
| **ä¾èµ–ç®¡ç†** | åªä¾èµ– Python + CLI å·¥å…· | ä¾èµ– OpenCode è¿è¡Œæ—¶ | ğŸ† Python |
| **æµå¼è¾“å‡º** | å®æ—¶æµå¼å†™å…¥æ–‡ä»¶ | éœ€è¦è½®è¯¢æˆ– SSE | ğŸ† Python |
| **è¶…æ—¶æ§åˆ¶** | asyncio.wait_for ç²¾ç¡®æ§åˆ¶ | HTTP è¶…æ—¶ + è½®è¯¢ï¼Œä¸å¤Ÿç²¾ç¡® | ğŸ† Python |
| **é”™è¯¯å¤„ç†** | å®Œå…¨è‡ªä¸»ï¼Œçµæ´»å¤„ç† | å—é™äº OpenCode é”™è¯¯æ¨¡å‹ | ğŸ† Python |
| **è°ƒè¯•ä½“éªŒ** | æ ‡å‡† Python è°ƒè¯• | éœ€è¦ç†è§£ OpenCode å†…éƒ¨æœºåˆ¶ | ğŸ† Python |
| **ç”Ÿæ€æ•´åˆ** | ç‹¬ç«‹å·¥å…·ï¼Œéœ€å•ç‹¬å­¦ä¹  | èå…¥ OpenCode å·¥ä½œæµ | ğŸ† OpenCode |
| **äº¤äº’ä½“éªŒ** | çº¯ CLIï¼Œæ— äº¤äº’ | TUI + Agent å¯¹è¯ | ğŸ† OpenCode |
| **æ‰©å±•æ€§** | éœ€è¦å†™ Python ä»£ç  | Markdown é…ç½®å³å¯æ‰©å±• | ğŸ† OpenCode |
| **ç”¨æˆ·å…¥å£** | å•ä¸€ CLI å…¥å£ | å¤šå…¥å£ (å‘½ä»¤/Agent/@mention) | ğŸ† OpenCode |
| **Session ç®¡ç†** | è‡ªå·±å®ç° | OpenCode åŸç”Ÿæ”¯æŒï¼Œå¯å¯¼èˆª | ğŸ† OpenCode |
| **ç»“æœå±•ç¤º** | ç”Ÿæˆæ–‡ä»¶ï¼Œéœ€æ‰‹åŠ¨æŸ¥çœ‹ | TUI ä¸­ç›´æ¥å±•ç¤º | ğŸ† OpenCode |
| **éƒ¨ç½²å¤æ‚åº¦** | pip install å³å¯ | éœ€è¦ OpenCode ç¯å¢ƒ | ğŸ† Python |

### Revv Python æ–¹æ¡ˆä¼˜åŠ¿

```
âœ… æ¶æ„ç®€æ´
   - ç›´æ¥è°ƒç”¨ CLI å·¥å…·ï¼Œæ²¡æœ‰ä¸­é—´å±‚
   - asyncio åŸç”Ÿå¹¶è¡Œï¼Œæ€§èƒ½å¥½
   - å®Œå…¨æŒæ§æ‰§è¡Œæµç¨‹

âœ… ç¨³å®šå¯é 
   - æˆç†Ÿçš„ Python å¼‚æ­¥æ¨¡å‹
   - ç²¾ç¡®çš„è¶…æ—¶å’Œé”™è¯¯å¤„ç†
   - å·²ç»éªŒè¯è¿‡çš„å®ç°

âœ… ç‹¬ç«‹æ€§å¼º
   - ä¸ä¾èµ–ç‰¹å®š IDE/ç¼–è¾‘å™¨
   - å¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒè¿è¡Œ
   - CI/CD é›†æˆæ›´ç®€å•
```

### Revv on OpenCode æ–¹æ¡ˆä¼˜åŠ¿

```
âœ… ç”¨æˆ·ä½“éªŒ
   - èå…¥ OpenCode å·¥ä½œæµï¼Œæ— éœ€å­¦ä¹ æ–°å·¥å…·
   - TUI ä¸­ç›´æ¥äº¤äº’ï¼Œä½“éªŒæµç•…
   - å¯ä»¥å¯¹è¯å¼ reviewï¼Œè¿½é—®ç»†èŠ‚

âœ… æ‰©å±•æ€§
   - æ·»åŠ æ–° Skill åªéœ€å†™ Markdown
   - Agent é…ç½®å£°æ˜å¼ï¼Œæ˜“äºå®šåˆ¶
   - åˆ©ç”¨ OpenCode çš„ MCP/Tools ç”Ÿæ€

âœ… å¯å‘ç°æ€§
   - @revv-orchestrator è‡ªç„¶è¯­è¨€è°ƒç”¨
   - Tab åˆ‡æ¢åˆ° revv agent
   - ä¸å…¶ä»– OpenCode åŠŸèƒ½æ— ç¼åä½œ
```

### Revv Python æ–¹æ¡ˆåŠ£åŠ¿

```
âŒ ç”¨æˆ·ä½“éªŒ
   - çº¯ CLIï¼Œç¼ºä¹äº¤äº’æ€§
   - ç»“æœéœ€è¦æ‰‹åŠ¨æ‰“å¼€æ–‡ä»¶æŸ¥çœ‹
   - ä¸æ—¥å¸¸å¼€å‘å·¥ä½œæµå‰²è£‚

âŒ å­¦ä¹ æˆæœ¬
   - éœ€è¦å•ç‹¬å­¦ä¹  revv å‘½ä»¤
   - éœ€è¦ç†è§£å…¶å‚æ•°å’Œé…ç½®
   - å¯¹æ–°ç”¨æˆ·ä¸å¤Ÿå‹å¥½

âŒ æ‰©å±•å¤æ‚
   - æ·»åŠ æ–°åŠŸèƒ½éœ€è¦å†™ Python
   - ä¿®æ”¹ prompt éœ€è¦æ”¹ä»£ç 
```

### Revv on OpenCode æ–¹æ¡ˆåŠ£åŠ¿

```
âŒ æŠ€æœ¯å¤æ‚åº¦
   - å¹¶è¡Œå®ç°æ˜¯"workaround"ï¼Œä¸æ˜¯åŸç”Ÿæ”¯æŒ
   - ä¾èµ– OpenCode Server API çš„ç¨³å®šæ€§
   - è°ƒè¯•å›°éš¾ï¼Œé“¾è·¯é•¿

âŒ æ€§èƒ½å¼€é”€
   - HTTP API è°ƒç”¨å¼€é”€
   - è½®è¯¢ Session çŠ¶æ€
   - å¤šå±‚æŠ½è±¡å¸¦æ¥çš„å»¶è¿Ÿ

âŒ ä¾èµ–é£é™©
   - ä¾èµ– OpenCode çš„ API ç¨³å®šæ€§
   - OpenCode æ›´æ–°å¯èƒ½ç ´åå®ç°
   - ä¸æ˜¯å®˜æ–¹æ”¯æŒçš„ç”¨æ³•
```

---

## åä¸€ã€ç»¼åˆè¯„ä»·

### ä»æŠ€æœ¯å®ç°è§’åº¦ï¼šPython æ–¹æ¡ˆæ›´å¥½

```
è¯„åˆ†: Python 8/10 vs OpenCode 6/10

ç†ç”±:
1. å¹¶è¡Œæ˜¯æ ¸å¿ƒéœ€æ±‚ï¼ŒPython asyncio æ˜¯æ­£é“ï¼ŒOpenCode æ˜¯ç»•é“
2. ç›´æ¥æ§åˆ¶ vs é—´æ¥æ§åˆ¶ï¼Œå‰è€…æ›´å¯é 
3. å·²éªŒè¯çš„å®ç° vs æ–°æ–¹æ¡ˆçš„ä¸ç¡®å®šæ€§
4. è°ƒè¯•å’Œç»´æŠ¤æˆæœ¬æ›´ä½
```

### ä»ç”¨æˆ·ä½“éªŒè§’åº¦ï¼šOpenCode æ–¹æ¡ˆæ›´å¥½

```
è¯„åˆ†: Python 5/10 vs OpenCode 8/10

ç†ç”±:
1. å¯¹è¯å¼äº¤äº’ vs CLI å‘½ä»¤
2. èå…¥å·¥ä½œæµ vs ç‹¬ç«‹å·¥å…·
3. TUI å±•ç¤º vs æ‰‹åŠ¨æŸ¥çœ‹æ–‡ä»¶
4. å¤šå…¥å£ vs å•ä¸€å…¥å£
```

### ä»é•¿æœŸç»´æŠ¤è§’åº¦ï¼šå–å†³äºç›®æ ‡ç”¨æˆ·

```
å¦‚æœç›®æ ‡ç”¨æˆ·æ˜¯:
- å¼€å‘è€…/CLI ç”¨æˆ· â†’ Python æ–¹æ¡ˆæ›´å¥½
- OpenCode ç”¨æˆ·ç¾¤ä½“ â†’ OpenCode æ–¹æ¡ˆæ›´å¥½
```

---

## åäºŒã€æ¨èç­–ç•¥

### çŸ­æœŸï¼šä¿æŒ Python å®ç°

```
ç†ç”±:
1. å·²ç»å¯ç”¨ï¼Œç¨³å®šå¯é 
2. å¹¶è¡Œå®ç°æ˜¯æ­£é“
3. ç»´æŠ¤æˆæœ¬ä½
```

### ä¸­æœŸï¼šä½œä¸º OpenCode MCP Server é›†æˆ

```
æ–¹æ¡ˆ: å°† Revv Python åŒ…è£…ä¸º MCP Server

ä¼˜åŠ¿:
- ä¿ç•™ Python çš„å¹¶è¡Œèƒ½åŠ›
- è·å¾— OpenCode çš„äº¤äº’ä½“éªŒ
- ä¸¤å…¨å…¶ç¾

æ¶æ„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenCode                                           â”‚
â”‚       â”‚                                             â”‚
â”‚       â–¼                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ revv MCP Server â”‚ â†â”€â”€ Python å®ç°ï¼Œæä¾› MCP æ¥å£ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚       â”‚                                             â”‚
â”‚       â–¼                                             â”‚
â”‚  asyncio + subprocess (åŸæœ‰é€»è¾‘)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é•¿æœŸï¼šç­‰å¾… OpenCode åŸç”Ÿæ”¯æŒ

```
å¦‚æœ OpenCode æœªæ¥æ”¯æŒ:
- åŸç”Ÿå¹¶è¡Œ subagent
- æ›´å¥½çš„ session ç®¡ç† API
- å®˜æ–¹çš„ multi-model åŠŸèƒ½

é‚£æ—¶å†è¿ç§»åˆ°çº¯ OpenCode æ–¹æ¡ˆä¼šæ›´åˆç†
```

---

## åä¸‰ã€æ€»ç»“

| æ–¹é¢ | ç»“è®º |
|------|------|
| **æŠ€æœ¯å®ç°** | Python æ–¹æ¡ˆæ›´ä¼˜ï¼Œæ˜¯"æ­£é“" |
| **ç”¨æˆ·ä½“éªŒ** | OpenCode æ–¹æ¡ˆæ›´ä¼˜ï¼Œæ›´è‡ªç„¶ |
| **æ¨èç­–ç•¥** | ä¿æŒ Python æ ¸å¿ƒï¼Œé€šè¿‡ MCP é›†æˆåˆ° OpenCode |
| **å®Œå…¨è¿ç§»** | ä¸æ¨èï¼Œé™¤é OpenCode åŸç”Ÿæ”¯æŒå¹¶è¡Œ multi-agent |

**ä¸€å¥è¯æ€»ç»“**ï¼šPython å®ç°æ˜¯æ›´å¥½çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œä½†å¯ä»¥é€šè¿‡ MCP è·å¾— OpenCode çš„äº¤äº’ä½“éªŒï¼Œä¸¤å…¨å…¶ç¾ã€‚
