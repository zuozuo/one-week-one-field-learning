# NFT - 非同质化代币 (Non-Fungible Token)

## 一句话大白话

**NFT 就是区块链上独一无二的数字收藏品证书——证明你拥有某个独特的东西。**

比喻：你买了一幅蒙娜丽莎的复制品，任何人都可以有一模一样的。但如果你买了蒙娜丽莎的 NFT，你就拥有了卢浮宫认证的「原作所有权证书」（虽然画还在卢浮宫）。这个证书是区块链上唯一的、不可复制的。

---

## 它解决什么问题

### 数字资产的问题

传统数字资产的问题：
- 复制成本为零（Ctrl+C, Ctrl+V）
- 无法证明「原版」和「复制品」的区别
- 无法证明谁是「真正的拥有者」

### NFT 的解决方案

```
传统数字图片:
你的图片 = 别人复制的图片 (完全一样，无法区分)

NFT:
你的 NFT = 区块链上唯一的代币 ID
└── 即使图片被复制
    └── 只有你的钱包拥有这个 NFT
        └── 链上可查、可验证
```

NFT 提供的是「所有权证明」，不是「独占访问权」。

---

## 什么时候用 / 什么时候别用

### NFT 适合的场景

| 场景 | 说明 |
|------|------|
| 数字艺术 | 艺术家直接销售，追踪版税 |
| 游戏道具 | 真正拥有，可跨游戏/交易 |
| 会员资格 | 持有 NFT = 会员身份 |
| 门票/凭证 | 防伪、可转让、可编程 |
| 域名 | ENS (.eth) 域名 |

### NFT 的局限

| 局限 | 说明 |
|------|------|
| 不阻止复制 | 任何人都能复制图片本身 |
| 链下资产风险 | 如果图片存在中心化服务器，服务器挂了 NFT 就成了空壳 |
| 价值不稳定 | 大多数 NFT 最终价值趋近于零 |
| 法律不明确 | 「拥有 NFT」的法律意义模糊 |

### 判断口诀
> NFT 买的是「证书」不是「内容」，内容可复制，证书不可复制

---

## 它不是什么

### 常见误解

| 误解 | 事实 |
|------|------|
| 买了 NFT 就拥有版权 | 通常不包含版权，只是所有权 |
| NFT 图片不能被复制 | 图片可以被任意复制，只是证书是唯一的 |
| NFT 一定会升值 | 绝大多数 NFT 价值归零 |
| NFT = 艺术品 | NFT 是技术，可以代表任何独特的东西 |
| NFT 数据存在区块链上 | 通常只有引用/元数据在链上，图片在链下 |

---

## 最小例子

### NFT 的技术结构

```
一个 NFT 包含什么？

链上数据 (在区块链上):
┌─────────────────────────────────────────────────────────┐
│ Token ID: 1234                                          │
│ Owner: 0xYourAddress...                                 │
│ Contract: 0xNFTContract...                              │
│ Token URI: ipfs://QmXxx.../1234.json                   │
└─────────────────────────────────────────────────────────┘
                    │
                    │ 指向
                    ▼
元数据 (通常在 IPFS 或服务器上):
┌─────────────────────────────────────────────────────────┐
│ {                                                       │
│   "name": "Bored Ape #1234",                           │
│   "description": "A very bored ape",                   │
│   "image": "ipfs://QmYyy.../1234.png",                 │
│   "attributes": [                                       │
│     {"trait_type": "Background", "value": "Blue"},     │
│     {"trait_type": "Eyes", "value": "Laser"}           │
│   ]                                                     │
│ }                                                       │
└─────────────────────────────────────────────────────────┘
                    │
                    │ 指向
                    ▼
实际图片 (通常在 IPFS 或服务器上):
┌─────────────────────────────────────────────────────────┐
│             🐵                                          │
│        (一张猴子图片)                                     │
└─────────────────────────────────────────────────────────┘

关键点：
- 链上只存储 ID、所有者、元数据链接
- 图片太大，存链上成本极高
- 如果元数据服务器挂了，NFT 就只剩一个空壳 ID
```

### ERC-721 标准简化版

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// NFT 的核心接口
interface IERC721 {
    // 查询某地址拥有多少 NFT
    function balanceOf(address owner) external view returns (uint256);

    // 查询某 NFT 的所有者
    function ownerOf(uint256 tokenId) external view returns (address);

    // 转移 NFT
    function transferFrom(address from, address to, uint256 tokenId) external;

    // 授权某人操作特定 NFT
    function approve(address to, uint256 tokenId) external;

    // 批量授权某人操作所有 NFT
    function setApprovalForAll(address operator, bool approved) external;
}

// 简化的 NFT 实现
contract SimpleNFT {
    // NFT 名称和符号
    string public name = "My NFT Collection";
    string public symbol = "MNFT";

    // 所有权映射: tokenId → 所有者
    mapping(uint256 => address) public ownerOf;

    // 元数据 URI 映射: tokenId → URI
    mapping(uint256 => string) public tokenURI;

    // 计数器
    uint256 public totalSupply;

    // 铸造新 NFT
    function mint(address to, string memory uri) public returns (uint256) {
        uint256 tokenId = totalSupply;
        ownerOf[tokenId] = to;
        tokenURI[tokenId] = uri;
        totalSupply++;
        return tokenId;
    }

    // 转移 NFT
    function transfer(address to, uint256 tokenId) public {
        require(ownerOf[tokenId] == msg.sender, "Not owner");
        ownerOf[tokenId] = to;
    }
}
```

### NFT 存储方式对比

```
存储位置对比:

1. 中心化服务器
┌─────────────────────────────────────────────────────────┐
│ Token URI: https://example.com/nft/1234.json           │
│                                                         │
│ 优点: 快、可修改                                         │
│ 缺点: 服务器挂了 NFT 就废了，项目方可以偷换图片           │
│ 风险: ⚠️ 高                                             │
└─────────────────────────────────────────────────────────┘

2. IPFS (去中心化存储)
┌─────────────────────────────────────────────────────────┐
│ Token URI: ipfs://QmXxx.../1234.json                   │
│                                                         │
│ 优点: 内容寻址（内容变了地址就变）, 较难篡改              │
│ 缺点: 需要有人保持文件 "pinned", 否则可能丢失            │
│ 风险: ⚠️ 中                                             │
└─────────────────────────────────────────────────────────┘

3. 链上存储 (On-chain)
┌─────────────────────────────────────────────────────────┐
│ 图片直接编码存在区块链上 (如 SVG, Base64)                │
│                                                         │
│ 优点: 真正永久、不可篡改                                 │
│ 缺点: 极其昂贵, 只能存很小的文件                         │
│ 风险: ✅ 低                                             │
│ 例子: Nouns, Loot                                       │
└─────────────────────────────────────────────────────────┘
```

### NFT 市场工作原理

```
在 OpenSea 卖 NFT 的流程:

1. 挂单 (卖家)
┌─────────────────────────────────────────────────────────┐
│ 卖家签名一个「订单」(链下签名，不上链)                    │
│ 内容: 我同意以 1 ETH 卖出 NFT #1234                     │
│ 存储在 OpenSea 服务器上                                  │
└─────────────────────────────────────────────────────────┘
          │
          ▼
2. 购买 (买家)
┌─────────────────────────────────────────────────────────┐
│ 买家看到挂单，点击购买                                   │
│ 发送交易到 OpenSea 合约:                                │
│ - 附带 1 ETH                                            │
│ - 附带卖家签名的订单                                     │
└─────────────────────────────────────────────────────────┘
          │
          ▼
3. 合约执行 (链上)
┌─────────────────────────────────────────────────────────┐
│ OpenSea 合约验证签名                                     │
│ NFT 从卖家转移到买家                                     │
│ ETH 从买家转移到卖家 (扣除手续费)                        │
│ 如果有版税，自动分给创作者                               │
└─────────────────────────────────────────────────────────┘

版税机制:
创作者设置 5% 版税
→ 每次交易，5% 自动给创作者
→ 永久，无论转手多少次
(注: 版税现在越来越多被绕过)
```

---

## 新手最常踩的 3 个坑

### 1. 被「免费 Mint」骗走所有资产

**坑**：看到「Free Mint」就急着去抢。

**常见骗局**：
```
钓鱼网站:
"🔥 限量免费 Mint！仅剩 100 个！"
→ 你连接钱包
→ 弹出签名请求
→ 你没仔细看就签了
→ 实际上你签的是「授权转走所有 NFT」
```

**正解**：
- 只从官方 Twitter/Discord 获取链接
- 仔细看签名内容
- 使用新钱包/小钱包去 Mint

### 2. 以为买了 NFT 就拥有「一切」

**坑**：买了某角色 NFT，以为可以用它做商品卖。

**现实**：
- 大多数 NFT 不转让版权
- 商业使用权需要看项目方条款
- 有些（如 BAYC）给持有者商业权，大多数不给

**正解**：
- 购买前阅读项目的 License 条款
- 不确定就问项目方
- 想商用要选择明确授权的项目

### 3. 忽视「元数据在哪」的问题

**坑**：只看图片好不好看，不管数据存在哪。

**风险**：
```
项目方用中心化服务器存图
→ 项目跑路 / 服务器到期
→ 你的 NFT 指向一个 404 页面
→ 只剩一个没有内容的「空壳」代币
```

**正解**：
- 检查 Token URI 是否指向 IPFS 或链上
- 优先选择链上存储的 NFT（如 Nouns）
- 自己备份重要 NFT 的元数据和图片

---

## 流程图定位

```
NFT 是一种特殊的智能合约代币:

┌──────┐    ┌──────────┐    ┌────────┐    ┌──────────┐    ┌────────────┐
│ 创作者│───▶│ 部署合约 │───▶│ Mint   │───▶│ 上架     │───▶│ 购买/转让  │
│ 意图 │    │ (ERC721) │    │ NFT    │    │ 市场     │    │           │
└──────┘    └──────────┘    └────────┘    └──────────┘    └────────────┘

NFT 生命周期:
1. 创建合约: 定义 NFT 集合的规则
2. 铸造: 创建新的 NFT (分配 Token ID)
3. 上架: 在市场挂单出售
4. 交易: 买卖、转让
5. 持有: 作为收藏品或会员凭证使用
```

---

## 自测题

1. **「我右键保存了这张 NFT 图片」为什么不等于「我拥有这个 NFT」？**

   <details>
   <summary>点击查看答案</summary>
   因为：
   - NFT 是区块链上的代币，记录了「谁拥有这个 Token ID」
   - 图片只是这个代币指向的内容
   - 右键保存图片 = 复制了内容
   - 拥有 NFT = 区块链上记录你是这个 Token ID 的所有者

   类比：你可以复印蒙娜丽莎的海报，但你不能说你拥有蒙娜丽莎。NFT 是「原作证书」，图片是「可复制的内容」。
   </details>

2. **为什么大多数 NFT 图片不存在区块链上？这有什么风险？**

   <details>
   <summary>点击查看答案</summary>
   不存在链上的原因：
   - 区块链存储极其昂贵（1KB 可能要几美元）
   - 一张图片几百 KB，成本无法接受

   风险：
   - 服务器挂了 → 图片丢失
   - 项目方跑路 → 没人维护
   - 可能被替换 → 项目方偷换图片

   防范：选择 IPFS 存储或链上存储的项目
   </details>

3. **「创作者版税」是强制的吗？买家可以不付吗？**

   <details>
   <summary>点击查看答案</summary>
   版税不是区块链强制的，而是市场/平台层面的约定：

   - 链上只有转账，没有「版税」概念
   - 版税是通过市场合约实现的
   - 如果绕过市场直接转账，就没有版税
   - 很多 NFT 市场现在已经取消强制版税
   - 创作者版税的强制执行是一个未解决的问题

   这就是为什么 NFT 版税收入在下降。
   </details>
