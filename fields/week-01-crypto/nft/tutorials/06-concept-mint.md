# 铸造 (Mint)

## 一句话大白话

**铸造就是把一个数字文件"注册"成 NFT 的过程——相当于去房管局给你的房子办房产证。**

在铸造之前，你的图片只是一个普通文件；铸造之后，它就变成了一个有唯一编号、有所有权记录的 NFT。

---

## 它解决什么问题

### 核心痛点：数字文件如何变成"资产"

普通数字文件的问题：
- 可以无限复制
- 没有所有权概念
- 无法证明"原版"
- 无法交易转让

### 铸造解决了什么

铸造 = 在区块链上创建一条记录，包含：
- **唯一编号**（TokenID）：证明这是第几个
- **所有者地址**：证明归谁所有
- **元数据链接**：指向描述信息和文件

```
铸造前：
普通图片 → 任何人都可以复制 → 无法交易

铸造后：
NFT = 图片 + 链上凭证 → 有唯一所有者 → 可以交易
```

---

## 什么时候用 / 什么时候别用

### ✅ 适合铸造 NFT 的情况

- 你是创作者，想把作品变成可交易的数字资产
- 你想收藏某个项目的 NFT（购买 = 获得别人铸造的 NFT）
- 你想参与项目的早期发售（铸造价通常比二级市场低）
- 你在做 NFT 项目的技术测试

### ❌ 不适合铸造的情况

- 图片不是你创作的（侵权风险）
- 只是想保存图片（不需要 NFT，直接存硬盘）
- 没有明确用途（铸造有成本，别浪费钱）
- 对项目不了解就 FOMO 铸造（容易亏钱）

---

## 它不是什么（常见混淆点）

### ❌ 铸造 ≠ 上传文件到区块链

很多人以为铸造是把图片存到区块链上，实际上：

```
错误理解：
铸造 = 把图片上传到区块链 ❌

正确理解：
铸造 = 在区块链上创建一条"登记记录"
       └── 这条记录里有个链接，指向存在别处的图片
```

图片通常存在 IPFS 或中心化服务器，链上只存"指针"。

### ❌ 铸造 ≠ 购买

| 操作 | 含义 | 对象 |
|------|------|------|
| 铸造 | 创建新 NFT | 从"无"到"有" |
| 购买 | 获得已存在的 NFT | 从别人手里买 |

首次发售时，用户通常是"铸造"；之后在二级市场是"购买"。

### ❌ 铸造成功 ≠ NFT 有价值

铸造只是技术操作，不保证：
- NFT 会有人买
- 价格会上涨
- 项目会成功

---

## 最小例子

### 铸造的技术流程

```
用户                平台前端              IPFS              智能合约            区块链
 │                    │                   │                   │                   │
 │ 1.上传图片+描述    │                   │                   │                   │
 │───────────────────▶│                   │                   │                   │
 │                    │                   │                   │                   │
 │                    │ 2.上传到IPFS      │                   │                   │
 │                    │──────────────────▶│                   │                   │
 │                    │   返回 CID        │                   │                   │
 │                    │◀──────────────────│                   │                   │
 │                    │                   │                   │                   │
 │ 3.点击"铸造"       │                   │                   │                   │
 │───────────────────▶│                   │                   │                   │
 │                    │                   │                   │                   │
 │ 4.钱包弹窗确认     │                   │                   │                   │
 │◀───────────────────│                   │                   │                   │
 │                    │                   │                   │                   │
 │ 5.确认+付Gas       │                   │                   │                   │
 │───────────────────▶│                   │                   │                   │
 │                    │                   │                   │                   │
 │                    │ 6.调用mint函数    │                   │                   │
 │                    │──────────────────────────────────────▶│                   │
 │                    │                   │                   │ 7.写入区块        │
 │                    │                   │                   │──────────────────▶│
 │                    │                   │                   │ 返回TokenID       │
 │                    │                   │                   │◀──────────────────│
 │ 8.铸造成功!        │                   │                   │                   │
 │◀───────────────────│                   │                   │                   │
```

### mint 函数简化示例

```solidity
function mint(address to, string memory tokenURI) public payable {
    // 检查是否还有库存
    require(totalSupply < maxSupply, "售罄");

    // 检查是否支付了足够的铸造费
    require(msg.value >= mintPrice, "费用不足");

    // 创建新的 TokenID
    uint256 newTokenId = totalSupply + 1;

    // 记录所有者
    owners[newTokenId] = to;

    // 记录元数据链接
    tokenURIs[newTokenId] = tokenURI;

    // 更新总供应量
    totalSupply++;
}
```

### 铸造后链上会记录什么

```javascript
// 链上数据（简化）
{
  contractAddress: "0xNFT合约地址",
  tokenId: 1234,
  owner: "0x你的钱包地址",
  tokenURI: "ipfs://QmXxx.../metadata.json"
}

// metadata.json 的内容（存在 IPFS）
{
  "name": "我的 NFT #1234",
  "description": "这是一个很棒的 NFT",
  "image": "ipfs://QmYyy.../image.png",
  "attributes": [...]
}
```

---

## 新手最常踩的 3 个坑

### 1. FOMO 铸造，铸完归零

**坑**：看到别人说"必涨"，冲动铸造，结果无人问津

**数据**：90%+ 的 NFT 项目最终价格趋近于零

**正确做法**：
- 研究项目背景、团队、路线图
- 不要只看社交媒体的炒作
- 只用亏得起的钱
- 新手先用测试网练习

### 2. 铸造时机错误，Gas 费爆炸

**坑**：热门项目发售时铸造，Gas 费比 NFT 还贵

**案例**：
```
项目铸造价：0.08 ETH（约 $150）
发售时 Gas：0.3 ETH（约 $600）
实际成本：$750
项目凉了后地板价：0.01 ETH（约 $20）

亏损：$730
```

**正确做法**：
- 抢铸造时提前评估总成本
- 如果 Gas 太高，考虑放弃或等二级市场
- 不急的项目选低峰期铸造

### 3. 铸造了侵权内容

**坑**：用别人的图片铸造 NFT

**后果**：
- 被原作者 DMCA 下架
- 可能面临法律追诉
- 链上记录永久存在，污点抹不掉

**正确做法**：
- 只铸造自己创作的内容
- 使用有授权的素材
- 了解版权基础知识

---

## 流程图定位

```
┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐
│  准备阶段  │───▶│  创作阶段  │───▶│  铸造阶段  │───▶│  交易阶段  │───▶│  持有阶段  │
└──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘
                                     │
                                     ▼
                              【核心操作】
                              - 上传文件到 IPFS
                              - 调用合约 mint 函数
                              - 支付 Gas 费
                              - 获得 TokenID
```

铸造是整个流程的**关键转折点**：
- 铸造前：普通数字文件
- 铸造后：链上登记的 NFT 资产

---

## 铸造方式对比

| 方式 | 适合谁 | 优点 | 缺点 |
|------|--------|------|------|
| 平台铸造（OpenSea等） | 个人创作者 | 简单，不用写代码 | 手续费较高，定制性低 |
| 项目方网站铸造 | 收藏者 | 获得项目 NFT | 需要抢，可能被科学家挤掉 |
| 自己部署合约 | 开发者/项目方 | 完全控制 | 需要技术知识 |

---

## 自测题

1. **概念理解**：铸造一个 NFT 后，图片文件存在哪里？链上存的是什么？

2. **场景判断**：以下哪种情况适合铸造 NFT？
   - A. 你画了一幅画，想卖给喜欢的人
   - B. 你看到一张网图很好看，想铸造成 NFT
   - C. 你想永久保存一张家庭照片
   - D. 你创建了一个会员体系，想用 NFT 作为会员凭证

3. **成本计算**：某 NFT 项目铸造价 0.05 ETH，当前 Gas 费预估 0.02 ETH，你至少需要准备多少 ETH？

<details>
<summary>参考答案</summary>

1. 图片文件通常存在 IPFS（去中心化存储）或中心化服务器上。链上存的是：TokenID、所有者地址、以及指向元数据的 URI（链接）。元数据里再包含指向图片的链接。所以链上实际只存了"凭证"和"指针"，不存文件本身。

2. A 和 D 适合。
   - A：自己的创作，可以铸造成 NFT 销售
   - B：侵权，绝对不行
   - C：不需要 NFT，直接备份到硬盘或云盘更合适
   - D：NFT 作为会员凭证是很好的应用场景

3. 至少需要 0.07 ETH（铸造价 0.05 + Gas 0.02），但建议准备 0.08-0.1 ETH，因为 Gas 可能波动，留点余量更安全。

</details>
